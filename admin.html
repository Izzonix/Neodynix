<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neodynix Technologies - Admin</title>
</head>
<body>
  <header>
    <h1>Neodynix Technologies - Admin</h1>
    <nav>
      <button id="btnTemplates">Manage Templates</button>
      <button id="btnSendEmail">Send Email</button>
      <button id="btnChat">Chat Requests</button>
      <button id="btnCustomRequests">Custom Requests</button>
      <button id="logout-btn">Logout</button>
    </nav>
  </header>

  <main>
    <section id="login-section">
      <h2>Admin Login</h2>
      <form id="loginForm">
        <input type="email" id="email" placeholder="Email" required>
        <input type="password" id="password" placeholder="Password" required>
        <button type="submit">Login</button>
        <p id="login-error" style="display: none;"></p>
      </form>
    </section>

    <section id="admin-container" style="display: none;">
      <div id="sectionTemplates">
        <h2>Manage Templates</h2>
        <form id="uploadForm">
          <h3>Add New Template</h3>
          <select id="category" name="category" required>
            <option value="">Select Category</option>
            <option value="Business">Business</option>
            <option value="Portfolio">Portfolio</option>
            <option value="Education">Education</option>
            <option value="Religion">Religion</option>
            <option value="Health">Health</option>
            <option value="Media">Media</option>
            <option value="Non-Profit">Non-Profit</option>
            <option value="Tech">Tech</option>
            <option value="Industry">Industry</option>
            <option value="Travel">Travel</option>
            <option value="Other">Other</option>
          </select>
          <input type="text" id="name" name="name" placeholder="Template Name" required>
          <input type="number" id="price_usd" name="price_usd" placeholder="Price (USD)" step="0.01" required>
          <input type="number" id="price_ugx" name="price_ugx" placeholder="Price (UGX)" step="0.01">
          <input type="number" id="price_ksh" name="price_ksh" placeholder="Price (KSH)" step="0.01">
          <input type="number" id="price_tsh" name="price_tsh" placeholder="Price (TSH)" step="0.01">
          <textarea id="description" name="description" placeholder="Description"></textarea>
          <input type="url" id="link" name="link" placeholder="Preview Link">
          <input type="file" id="imageFile" name="imageFile" accept="image/*" required>
          <div id="imagePreview"></div>
          <button type="submit" id="upload-btn">Upload Template</button>
        </form>
        <div id="result"></div>
        <h3>Existing Templates</h3>
        <div id="templateList"></div>
      </div>

      <div id="sectionSendEmail" style="display: none;">
        <h2>Send Custom Email</h2>
        <form id="emailForm">
          <input type="email" id="emailTo" name="emailTo" placeholder="Recipient Email" required>
          <input type="text" id="subject" name="subject" placeholder="Subject" required>
          <textarea id="message" name="message" placeholder="Message" required></textarea>
          <select id="currency" name="currency">
            <option value="USD">USD</option>
            <option value="UGX">UGX</option>
            <option value="KSH">KSH</option>
            <option value="TSH">TSH</option>
          </select>
          <button type="submit" id="email-btn">Send Email</button>
        </form>
        <div id="result"></div>
      </div>

      <div id="sectionChat" style="display: none;">
        <h2>Chat Requests</h2>
        <div id="chatRequestList"></div>
        <h3>Reply to Customer</h3>
        <form id="chatReplyForm">
          <input type="hidden" id="replyUserId" name="userId">
          <p id="replyUserInfo"></p>
          <textarea id="replyMessage" name="message" placeholder="Type your reply" required></textarea>
          <button type="submit" id="reply-btn">Send Reply</button>
        </form>
        <div id="chatResult"></div>
      </div>

      <div id="sectionCustomRequests" style="display: none;">
        <h2>Custom Requests</h2>
        <div id="customRequestList"></div>
      </div>

      <div id="editTemplateModal" style="display: none;">
        <form id="editTemplateForm">
          <h3>Edit Template</h3>
          <select id="editCategory" name="category" required>
            <option value="">Select Category</option>
            <option value="Business">Business</option>
            <option value="Portfolio">Portfolio</option>
            <option value="Education">Education</option>
            <option value="Religion">Religion</option>
            <option value="Health">Health</option>
            <option value="Media">Media</option>
            <option value="Non-Profit">Non-Profit</option>
            <option value="Tech">Tech</option>
            <option value="Industry">Industry</option>
            <option value="Travel">Travel</option>
            <option value="Other">Other</option>
          </select>
          <input type="text" id="editName" name="name" placeholder="Template Name" required>
          <input type="number" id="editPrice_usd" name="price_usd" placeholder="Price (USD)" step="0.01" required>
          <input type="number" id="editPrice_ugx" name="price_ugx" placeholder="Price (UGX)" step="0.01">
          <input type="number" id="editPrice_ksh" name="price_ksh" placeholder="Price (KSH)" step="0.01">
          <input type="number" id="editPrice_tsh" name="price_tsh" placeholder="Price (TSH)" step="0.01">
          <textarea id="editDescription" name="description" placeholder="Description"></textarea>
          <input type="url" id="editLink" name="link" placeholder="Preview Link">
          <input type="file" id="editImageFile" name="imageFile" accept="image/*">
          <div id="editImagePreview"></div>
          <button type="submit">Save Changes</button>
          <button type="button" onclick="closeEditModal()">Cancel</button>
        </form>
      </div>

      <div id="confirmModal" style="display: none;">
        <p id="confirmMessage"></p>
        <button id="confirmYes">Yes</button>
        <button id="confirmNo">No</button>
      </div>

      <div id="loading-popup" style="display: none;">
        <p>Processing...</p>
      </div>
    </section>
  </main>

  <footer>
    <p>Â© 2025 Neodynix Technologies. All rights reserved.</p>
  </footer>

  <script src="admin.js"></script>
</body>
  </html>
