<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Neodynix Technologies - Admin</title>
  <link rel="stylesheet" href="styles/admin.css" />
</head>
<body>
  <div class="login-section" id="login-section">
    <div class="login-container">
      <h2>Admin Login</h2>
      <form id="loginForm" class="login-form">
        <input type="email" id="email" placeholder="Email" required />
        <input type="password" id="password" placeholder="Password" required />
        <button type="submit" class="btn">Login</button>
        <p id="login-error" class="error" style="display: none;"></p>
      </form>
    </div>
  </div>

  <div class="admin-container" id="admin-container" style="display: none;">
    <div class="admin-tabs">
      <button class="tab-button active" id="btnTemplates">Manage Templates</button>
      <button class="tab-button" id="btnSendEmail">Send Email</button>
      <button class="tab-button" id="btnChat">Chat Requests</button>
      <button class="tab-button" id="btnCustomRequests">Custom Requests</button>
      <button class="tab-button btn-logout" id="logout-btn">Logout</button>
    </div>

    <div class="admin-section active" id="sectionTemplates">
      <div class="template-upload">
        <h3>Add New Template</h3>
        <form id="uploadForm" class="template-upload">
          <select id="category" name="category" required>
            <option value="">Select Category</option>
            <option value="Business">Business</option>
            <option value="Portfolio">Portfolio</option>
            <option value="Education">Education</option>
            <option value="Religion">Religion</option>
            <option value="Health">Health</option>
            <option value="Media">Media</option>
            <option value="Non-Profit">Non-Profit</option>
            <option value="Tech">Tech</option>
            <option value="Industry">Industry</option>
            <option value="Travel">Travel</option>
            <option value="Other">Other</option>
          </select>
          <input type="text" id="name" name="name" placeholder="Template Name" required />
          <input type="text" id="description" name="description" placeholder="Description" />
          <input type="url" id="link" name="link" placeholder="Preview Link" required />
          <input type="number" id="price_usd" name="price_usd" placeholder="Price (USD)" step="0.01" required />
          <input type="number" id="price_ugx" name="price_ugx" placeholder="Price (UGX)" step="0.01" required />
          <input type="number" id="price_ksh" name="price_ksh" placeholder="Price (Ksh)" step="0.01" required />
          <input type="number" id="price_tsh" name="price_tsh" placeholder="Price (Tsh)" step="0.01" required />
          <div class="file-input-wrapper">
            <label for="imageFile" class="file-input-label">Choose File</label>
            <input type="file" id="imageFile" name="image" accept="image/*" />
          </div>
          <div id="imagePreview"></div>
          <button type="submit" id="upload-btn" class="btn">Upload Template</button>
          <p id="result" style="display: none;"></p>
        </form>
      </div>
      <div class="template-list">
        <h2>Existing Templates</h2>
        <div class="template-grid" id="templateList"></div>
      </div>
    </div>

    <div class="admin-section" id="sectionSendEmail">
      <h2>Send Custom Email</h2>
      <form id="emailForm" class="email-form">
        <input type="email" id="emailTo" name="emailTo" placeholder="Recipient Email" required />
        <input type="text" id="subject" name="subject" placeholder="Subject" required />
        <textarea id="message" name="message" placeholder="Message" required></textarea>
        <select id="currency" name="currency">
          <option value="USD">USD</option>
          <option value="EUR">EUR</option>
          <option value="GBP">GBP</option>
        </select>
        <button type="submit" id="email-btn" class="btn">Send Email</button>
        <p id="result" style="display: none;"></p>
      </form>
    </div>

    <div class="admin-section" id="sectionChat">
      <div class="chat-requests">
        <h3>Pending Requests</h3>
        <div class="chat-request-grid" id="chatRequestList"></div>
      </div>
      <div class="chat-reply">
        <h3>Reply to Customer</h3>
        <form id="chatReplyForm" class="chat-reply-form">
          <p id="replyUserInfo"></p>
          <input type="hidden" id="replyUserId" name="userId" />
          <textarea id="replyMessage" name="message" placeholder="Type your reply..." required></textarea>
          <button type="submit" id="reply-btn" class="btn">Send Reply</button>
          <p id="chatResult" style="display: none;"></p>
        </form>
      </div>
    </div>

    <div class="admin-section" id="sectionCustomRequests">
      <h2>Custom Requests</h2>
      <div class="custom-request-grid" id="customRequestList"></div>
    </div>

    <div class="modal" id="editTemplateModal" style="display: none;">
      <div class="modal-content">
        <h2>Edit Template</h2>
        <form id="editTemplateForm">
          <select id="editCategory" name="category" required>
            <option value="">Select Category</option>
            <option value="Business">Business</option>
            <option value="Portfolio">Portfolio</option>
            <option value="Education">Education</option>
            <option value="Religion">Religion</option>
            <option value="Health">Health</option>
            <option value="Media">Media</option>
            <option value="Non-Profit">Non-Profit</option>
            <option value="Tech">Tech</option>
            <option value="Industry">Industry</option>
            <option value="Travel">Travel</option>
            <option value="Other">Other</option>
          </select>
          <input type="text" id="editName" name="name" placeholder="Template Name" required />
          <input type="text" id="editDescription" name="description" placeholder="Description" />
          <input type="url" id="editLink" name="link" placeholder="Preview Link" required />
          <input type="number" id="editPriceUSD" name="price_usd" placeholder="Price (USD)" step="0.01" required />
          <input type="number" id="editPriceUGX" name="price_ugx" placeholder="Price (UGX)" step="0.01" required />
          <input type="number" id="editPriceKSH" name="price_ksh" placeholder="Price (Ksh)" step="0.01" required />
          <input type="number" id="editPriceTSH" name="price_tsh" placeholder="Price (Tsh)" step="0.01" required />
          <div class="file-input-wrapper">
            <label for="editImageFile" class="file-input-label">Choose File</label>
            <input type="file" id="editImageFile" name="image" accept="image/*" />
          </div>
          <div id="editImagePreview"></div>
          <button type="submit" id="save-btn" class="btn">Save Changes</button>
          <button type="button" id="cancel-btn" class="btn btn-cancel">Cancel</button>
        </form>
      </div>
    </div>

    <div class="modal" id="confirmModal" style="display: none;">
      <div class="modal-content">
        <p id="confirmMessage"></p>
        <button id="confirmYes" class="btn">Yes</button>
        <button id="confirmNo" class="btn btn-cancel">No</button>
      </div>
    </div>

    <div class="loading-popup" id="loading-popup" style="display: none;">
      <div class="loading-content">
        <div class="spinner"></div>
        <p>Processing...</p>
      </div>
    </div>

    <footer>Â© 2025 Neodynix Technologies. All rights reserved.</footer>

    <script type="module" src="scripts/admin.js"></script>
</body>
  </html>
